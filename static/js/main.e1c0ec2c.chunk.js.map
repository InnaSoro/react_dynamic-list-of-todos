{"version":3,"sources":["components/Form/Form.jsx","components/TodoList/TodoList.jsx","api/todos.js","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["Form","value","search","handleChange","className","onChange","type","placeholder","name","id","htmlFor","TodoList","state","event","setState","target","this","props","todos","selectUser","selectedUserId","changeCompleted","selectedTodos","filter","todo","completed","Boolean","title","includes","map","key","checked","classNames","userId","onClick","React","Component","BASE_URL","CurrentUser","selectedUser","loadUser","prevProps","a","fetch","then","response","json","data","clearSelection","email","phone","App","todoId","isCompleted","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e1c0ec2c.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const Form = ({\n  value,\n  search,\n  handleChange,\n}) => (\n  <form className=\"form__group field\">\n    <input\n      value={search}\n      onChange={handleChange}\n      type=\"input\"\n      className=\"form__field\"\n      placeholder=\"Name\"\n      name=\"search\"\n      id=\"search\"\n    />\n    <label\n      htmlFor=\"search\"\n      className=\"form__label\"\n    >\n      Search\n    </label>\n    <select\n      className=\"TodoList__filter\"\n      name=\"value\"\n      value={value}\n      onChange={handleChange}\n    >\n      <option value=\"all\">All</option>\n      <option value=\"0\">Active</option>\n      <option value=\"1\">Completed</option>\n    </select>\n  </form>\n);\n\nForm.propTypes = {\n  value: PropTypes.string.isRequired,\n  search: PropTypes.string.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { Form } from '../Form';\n\nexport class TodoList extends React.Component {\n  state = {\n    value: 'all',\n    search: '',\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  }\n\n  render() {\n    const { todos, selectUser, selectedUserId, changeCompleted } = this.props;\n    const { value, search } = this.state;\n    const selectedTodos = todos.filter(todo => (\n      value !== 'all'\n        ? todo.completed === Boolean(+value) && todo.title.includes(search)\n        : todo.title.includes(search)\n    ));\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n        <Form\n          value={value}\n          search={search}\n          handleChange={this.handleChange}\n        />\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {selectedTodos.map(todo => (\n              <li\n                key={todo.id}\n                className={`\n              TodoList__item\n              ${todo.completed === false\n                  ? 'TodoList__item--unchecked'\n                  : 'TodoList__item--checked'}\n              `}\n              >\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={todo.completed}\n                    onChange={() => changeCompleted(todo.id)}\n                  />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className={classNames(\n                    'TodoList__user-button',\n                    'button',\n                    { 'TodoList__user-button--selected':\n                      todo.userId === selectedUserId },\n                  )}\n                  type=\"button\"\n                  onClick={() => selectUser(todo.userId)}\n                >\n                  User&nbsp;#\n                  {todo.userId}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      completed: PropTypes.bool.isRequired,\n      id: PropTypes.number.isRequired,\n      userId: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n  selectUser: PropTypes.func.isRequired,\n  selectedUserId: PropTypes.number.isRequired,\n  changeCompleted: PropTypes.func.isRequired,\n};\n","// eslint-disable-next-line\nconst BASE_URL = `https://mate-api.herokuapp.com`;\r\n\nexport function getUser(userId) {\n  return fetch(`${BASE_URL}/users/${userId}`)\n    .then(response => response.json())\n    .then(response => response.data);\n}\n\nexport function getTodos() {\n  return fetch(`${BASE_URL}/todos/`)\n    .then(response => response.json())\n    .then(response => response.data.filter(todo => todo.userId));\n}\n","import React from 'react';\nimport './CurrentUser.scss';\nimport PropTypes from 'prop-types';\nimport { getUser } from '../../api/todos';\n\nexport class CurrentUser extends React.Component {\n  state = {\n    selectedUser: null,\n  }\n\n  componentDidMount() {\n    this.loadUser();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.userId !== this.props.userId) {\n      this.loadUser();\n    }\n  }\n\n  async loadUser() {\n    await getUser(this.props.userId)\n      .then((selectedUser) => {\n        this.setState({ selectedUser });\n      });\n  }\n\n  render() {\n    const { selectedUser } = this.state;\n    const { clearSelection } = this.props;\n\n    if (!selectedUser) {\n      return 'Loading...';\n    }\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>\n            Selected user:\n            {selectedUser.id}\n          </span>\n        </h2>\n\n        <h3 className=\"CurrentUser__name\">{selectedUser.name}</h3>\n        <p className=\"CurrentUser__email\">{selectedUser.email}</p>\n        <p className=\"CurrentUser__phone\">{selectedUser.phone}</p>\n        <button\n          className=\"button CurrentUser__clear\"\n          type=\"button\"\n          onClick={clearSelection}\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = {\n  userId: PropTypes.number.isRequired,\n  clearSelection: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api/todos';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n  };\n\n  async componentDidMount() {\n    await getTodos()\n      .then((todos) => {\n        this.setState({\n          todos,\n        });\n      });\n  }\n\n  selectUser = (selectedUserId) => {\n    this.setState({ selectedUserId });\n  }\n\n  clearSelection = () => {\n    this.setState({ selectedUserId: 0 });\n  }\n\n  changeCompleted = (todoId) => {\n    this.setState(state => ({\n      todos: state.todos.map((todo) => {\n        const isCompleted = todo.completed;\n\n        return (\n          todo.id === todoId\n            ? {\n              ...todo, completed: !isCompleted,\n            }\n            : todo\n        );\n      }),\n    }));\n  }\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectUser={this.selectUser}\n            selectedUserId={selectedUserId}\n            changeCompleted={this.changeCompleted}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clearSelection={this.clearSelection}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}